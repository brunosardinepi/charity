{% extends '_layout.html' %}
{% load static from staticfiles %}

{% block title %} Upload Images | {{ block.super }}{% endblock %}

{% block head_extra %}
    <script src="{% static '/jquery-file-upload/vendor/jquery.ui.widget.js' %}"></script>
    <script src="{% static '/jquery-file-upload/jquery.iframe-transport.js' %}"></script>
    <script src="{% static '/jquery-file-upload/jquery.fileupload.js' %}"></script>
    <script src="{% static '/js/image_upload.js' %}"></script>
{% endblock %}

{% block breadcrumbs %}
    <a href="{% url 'page' page_slug=campaign.page.page_slug %}">{{ campaign.page.name }}</a> / <a href="{% url 'campaign' page_slug=campaign.page.page_slug campaign_pk=campaign.pk campaign_slug=campaign.campaign_slug %}">{{ campaign.name }}</a> / Upload
{% endblock %}

{% block body_content %}
    <button type="button" id="upload-button">Upload Images</button>
    <input id="upload-input" type="file" name="image" multiple
        style="display:none;"
        data-url="{% url 'campaign_image_upload' page_slug=campaign.page.page_slug campaign_pk=campaign.pk campaign_slug=campaign.campaign_slug%}"
        data-form-data='{"csrfmiddlewaretoken": "{{ csrf_token }}"}' />

    <h3>Images</h3>
    {% if images %}
        <ul id="image-list">
            {% for i in images %}
                <li><a href="{{ i.image.url }}">{{ i.image.name }}</a></li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No images!</p>
    {% endif %}
{% endblock %}
